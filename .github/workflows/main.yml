name: Deploy to GitHub Pages
 
on:
push:
branches:
- main
 
jobs:
deploy:
runs-on: ubuntu-latest
 
steps:
- name: Checkout repository
uses: actions/checkout@v2
 
- name: Setup .NET
uses: actions/setup-dotnet@v1
with:
dotnet-version: '6.x'
 
- name: Restore dependencies
run: dotnet restore
 
- name: Build BethanysPieShopHRM.Server App
run: dotnet publish -c Release -o ${{github.workspace}}/publish/BethanysPieShopHRM.Server
 
- name: Build BethanysPiesShopHRM.Client App
run: dotnet publish -c Release -o ${{github.workspace}}/publish/BethanysPiesShopHRM.Client/wwwroot
 
- name: Deploy to GitHub Pages
uses: peaceiris/actions-gh-pages@v3
with:
github_token: ${{ secrets.GITHUB_TOKEN }}
publish_dir: ${{github.workspace}}/publish
